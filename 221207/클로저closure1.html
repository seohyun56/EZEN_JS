<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>클로저 closure1</title>
    <style>
        .box {
            width: 200px;
            height: 200px;
            background-color: lightgreen;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <button>click</button>
    <div class="box" id="box"></div>
<script>
    const btn = document.querySelector('button');
    const box = document.querySelector('#box');

    const toggle = (function() { 
        let state = false; // 내부 함수가 이 변수를 사용. 클로저가 사용하는 변수

        // 클로저 반환
        return function() { // 즉시실행함수가 반환한 함수는 렉시컬 환경에 속한 변수 state를 기억하는 클로저
            box.style.display = state ? 'block' : 'none';
            state = !state; // false면 true 대입, true면 false 대입
        }
    })();

    // btn.onclick = toggle;
    btn.addEventListener('click', toggle);
    // console.log(state); 함수 내부의 변수에 접근 x
</script>
</body>
</html>