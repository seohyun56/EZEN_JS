<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>resize()</title>
</head>
<body>
<script>
    /* 
    옛날 방식
    on('resize');
    onresize.

    브라우저의 사이즈가 변할 때 이벤트 발생
    window.addEventListener('resize', () => {}) 
    */

    const mq = matchMedia('(min-width: 768px)');

    const view = (bg, txt) => {
        document.body.style.background = bg;
        document.body.innerHTML = `<h1>768px <em>${txt}</em> 화면입니다.</h1>`;
    };

    /* 
    addEventListener('resize', () => { // 리사이즈 이벤트가 될 때 실행 -> 처음에 리사이즈 해줘야 보임
        // console.log('리사이즈 됨');

        mq.matches ? view('lightgreen', '이상의') : view('lightskyblue', '미만의');
    }); 
    */

    // const box = () => mq.matches ? view('lightgreen', '이상의') : view('lightskyblue', '미만의');
    
    // 즉시 실행 함수를 통해 처음 화면을 열었을 때 바로 실행
    (box = function () {
        mq.matches ? view('lightgreen', '이상의') : view('lightskyblue', '미만의');
    })();

    // box(); 처음 화면을 열었을 때 실행될 수 있게 함수 호출
    addEventListener('resize', box);
</script>
</body>
</html>