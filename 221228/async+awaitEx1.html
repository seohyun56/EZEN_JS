<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>async.. await.. Ex1</title>
</head>
<body>
    <div id="result"></div>
<script>
    const result = document.querySelector('#result');
    const URL = 'https://jsonplaceholder.typicode.com/photos';

    // photos 중 랜덤으로 title과 url 출력
    // title명의 글자 출력 수 10자리까지만
    
    /* 
    fetch(URL)
        .then(response => response.json())
        .then(pics => {
            const random = Math.trunc(Math.random() * 100) // 0 ~ 99
            result.innerHTML = `
                <h3>${pics[random].title.substring(0, 11)}</h3>
                <img src=${pics[random].url} alt=${pics[random].title}>
            `;
        })
        .catch(err => console.log(err)) 
        */

    (async () => {
        const res = await fetch(URL);
        const pics = await res.json();

        userPics(pics)
    })();

    function userPics(pics) {
        const random = Math.trunc(Math.random() * 100) // 0 ~ 99
        result.innerHTML = `
            <h3>${pics[random].title.substring(0, 11)}</h3>
            <img src=${pics[random].url} alt=${pics[random].title}>
        `;
    }
</script>
</body>
</html>